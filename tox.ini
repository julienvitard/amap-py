[tox]
envlist =
    py27,py35,docs,api
distribute = False
skipsdist = True
downloadcache = {toxinidir}/.cache/pip

[pytest]
norecursedirs =
    .tox .git

[testenv]
deps =
    -r{toxinidir}/requirements/test.txt

basepython =
    py27: python2.7
    py35: python3.5

commands =
    # {envbindir}/python -V
    {envbindir}/python setup.py install
    {envbindir}/py.test amappy/tests/ -v

# Docs generation ############################################################

[testenv:docs]
basepython =
    python

changedir =
    docs

deps =
    -r{toxinidir}/requirements/docs.txt

commands =
    sphinx-build -b html -d {envtmpdir}/doctrees {toxinidir}/docs/source {toxinidir}/docs/build/html

[testenv:api]
basepython =
    python
